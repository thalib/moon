# Moon - Dynamic Headless Engine Configuration
# Comprehensive configuration file with all available options documented
# This file shows all configuration options with their default values and explanations

# Server configuration
server:
  # HTTP server host address
  # Default: 0.0.0.0 (listens on all network interfaces)
  # Set to 127.0.0.1 to listen only on localhost
  host: "0.0.0.0"
  
  # HTTP server port
  # Default: 6006
  # Valid range: 1-65535
  port: 6006
  
  # URL prefix for all API endpoints
  # Default: "" (empty - no prefix)
  # When set, all endpoints are mounted under this prefix
  # Examples:
  #   - "" (empty): /health, /collections:list, /{collection}:list
  #   - "/api/v1": /api/v1/health, /api/v1/collections:list, /api/v1/{collection}:list
  #   - "/moon/api": /moon/api/health, /moon/api/collections:list, /moon/api/{collection}:list
  # Note: Leading slash is required (automatically added if missing)
  prefix: ""

# Database configuration
database:
  # Database connection type
  # Supported values: sqlite, postgres, mysql
  # Default: sqlite
  connection: "sqlite"
  
  # Database file path (for SQLite) or database name (for PostgreSQL/MySQL)
  # Default: /opt/moon/sqlite.db
  # Examples:
  #   - SQLite: /opt/moon/sqlite.db
  #   - PostgreSQL: mydbname
  #   - MySQL: mydbname
  database: "/opt/moon/sqlite.db"
  
  # Database user (for PostgreSQL/MySQL only)
  # Default: "" (empty for SQLite)
  user: ""
  
  # Database password (for PostgreSQL/MySQL only)
  # Default: "" (empty for SQLite)
  password: ""
  
  # Database host (for PostgreSQL/MySQL only)
  # Default: 0.0.0.0
  # Examples: localhost, 127.0.0.1, db.example.com
  host: "0.0.0.0"

# Logging configuration
logging:
  # Log directory path
  # Default: /var/log/moon
  # Logs will be written to {path}/main.log in daemon mode
  # In console mode, logs are written to stdout/stderr
  path: "/var/log/moon"

# JWT authentication configuration
jwt:
  # JWT secret key for token signing (REQUIRED)
  # This must be set to a secure random string in production
  # Generate a secure secret with: openssl rand -base64 32
  # Example: "dGhpcyBpcyBhIHNlY3VyZSBzZWNyZXQga2V5"
  secret: "your-secret-key-change-in-production"
  
  # Token expiration time in seconds
  # Default: 3600 (1 hour)
  # Common values:
  #   - 900 (15 minutes)
  #   - 3600 (1 hour)
  #   - 86400 (24 hours)
  expiry: 3600

# API key authentication configuration
apikey:
  # Enable or disable API key authentication
  # Default: false
  # When enabled, clients must provide a valid API key in the specified header
  enabled: false
  
  # HTTP header name for API key
  # Default: X-API-KEY
  # Clients must send their API key in this header
  header: "X-API-KEY"

# Configuration Examples for Different Databases:
#
# SQLite (default):
#   database:
#     connection: "sqlite"
#     database: "/opt/moon/sqlite.db"
#
# PostgreSQL:
#   database:
#     connection: "postgres"
#     database: "moon_db"
#     user: "moon_user"
#     password: "secure_password"
#     host: "localhost"
#
# MySQL:
#   database:
#     connection: "mysql"
#     database: "moon_db"
#     user: "moon_user"
#     password: "secure_password"
#     host: "localhost"
