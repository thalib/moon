## Overview
- Provide human- and AI-readable documentation endpoints without relying on OpenAPI/Swagger UIs.
- Add two documentation endpoints: `/doc/` for a simple one-page HTML doc and `/doc/md` for a Markdown doc.
- Documentation should be generic with `{collection}` placeholders and include a list of available collections so users can choose which to query.
- Add caching for generated docs and provide a way to refresh the cached documentation.
- OpenAPI/Swagger should be removed entirely.
- Documentation must follow industry best practices: clear structure, minimal jargon, copy-pasteable examples, and consistent formatting.
- Documentation should be quick to scan (TOC + consistent section ordering) and complete enough to run basic requests without external references.

## Requirements
- Add `GET /doc/` endpoint that returns a simple, human-readable single-page HTML documentation view.
- Add `GET /doc/md` endpoint that returns a Markdown document suitable for humans and AI agents.
- Both endpoints must respect the configured URL prefix (e.g., `/api/v1/doc/`, `/api/v1/doc/md`).
- Documentation must be generic and use `{collection}` placeholders instead of expanding per-collection schema details.
- Documents must include a list of available collections so users can decide which collection to query.
- Content must be generated from the in-memory schema registry but rendered as a generic template (no per-collection schema expansion).
- Add in-memory caching for generated documentation outputs.
- Add a way to refresh the cached documentation (Needs Clarification: route and method).
- HTML response must set `Content-Type: text/html; charset=utf-8`.
- Markdown response must set `Content-Type: text/markdown; charset=utf-8`.
- Responses must include cache headers that allow client-side caching (e.g., `Cache-Control`) and optional cache validators (`ETag` or `Last-Modified`).
- Documents must include:
  - Service name and version.
  - Base URL and configured prefix behavior, with examples for empty prefix and `/api/v1`.
  - Authentication requirements (JWT/API key), if enabled.
  - Standard headers and content types used by the API (request and response).
  - All schema management endpoints with methods and payload shapes.
  - All data access endpoints with methods and payload shapes using `{collection}` placeholders.
  - All aggregation endpoints with required query parameters using `{collection}` placeholders.
  - Examples of list filtering, sorting, full-text search, field selection, and pagination.
  - Curl examples (both with and without `jq`) such as:
    - `curl -s -X GET "http://localhost:6006/{collection}:list" | jq .`
    - `curl -s -X GET "http://localhost:6006/{collection}:list"`
- Documents must include a compact “Quickstart” flow with 3–5 steps:
  - Create a collection
  - Insert a record
  - List records
  - Update a record
  - Delete a record
- Documents must include at least one example request/response pair per category:
  - Schema management (e.g., `collections:create`)
  - Data access (e.g., `{collection}:create`, `{collection}:list`)
  - Aggregation (e.g., `{collection}:count`)
- Documents must include a standardized error section showing:
  - Common error status codes
  - Example error payload
  - Typical causes (e.g., missing field, invalid filter operator)
- HTML doc must include:
  - Table of contents with in-page anchors
  - Code blocks for curl samples
  - Clear section headers matching the Markdown doc for parity
- Markdown doc must include:
  - Table of contents
  - Fenced code blocks for curl and JSON examples
  - Section headings that are stable for AI parsing
- Documents must include a section “Available Collections” that lists names only (no schema expansion).
- Documents must include placeholder schema description using `{collection}` with field examples (e.g., `{collection}.id`, `{collection}.ulid`).
- all OpenAPI/Swagger routes and generation must be removed.
- Error responses for `/doc/` and `/doc/md` must follow existing error handling conventions (status codes and payload shape).
- Caching behavior must define invalidation and TTL policy (Needs Clarification).
- Refresh behavior must define whether it is:
  - Manual (explicit refresh endpoint)
  - Automatic (TTL-based rebuild)
  - Both (manual refresh + TTL)
  (Needs Clarification).
- Add sample document excerpts that illustrate the target output format.
  - HTML excerpt must show headings, TOC, and code block.
  - Markdown excerpt must show headings, TOC, and code block.

## Acceptance
- `GET /doc/` returns HTTP 200 with HTML content and includes sections for overview, auth, schema endpoints, data endpoints, and examples.
- `GET /doc/md` returns HTTP 200 with Markdown content and includes the same sections as `/doc/`.
- Documentation uses `{collection}` placeholders and does not expand per-collection schemas.
- Both docs list available collections.
- Curl examples appear in both formats, including with and without `jq`.
- When a URL prefix is configured, `/doc/` and `/doc/md` are reachable under the prefix and not at the root.
- Documentation output is cached and served from cache after first generation.
- Refresh mechanism clears or regenerates the cached documentation (Needs Clarification: endpoint and behavior).
- all OpenAPI/Swagger routes and generation are absent and tests are updated accordingly.
- HTML doc includes a TOC, consistent section headings, and copy-pasteable curl/JSON examples.
- Markdown doc includes a TOC, fenced code blocks, and stable headings for AI parsing.
- Docs include Quickstart steps that work with placeholder `{collection}`.
- Docs include at least three request/response samples (schema, data, aggregation).
- Docs include a standardized error section with example payloads.


- [ ] Ensure all documentation, scripts, and samples (`SPEC.md`, `INSTALL.md`, `README.md`, `USAGE.md`, `install.sh`, and all files in `samples/*`) are updated and remain consistent with the implemented code changes.
- [ ] Ensure all test scripts in `scripts/*.sh` are working properly and up to date with the latest code and API changes.
