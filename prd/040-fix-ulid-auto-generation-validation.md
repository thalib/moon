## Overview

- The record creation endpoint (`/{collection}:create`) incorrectly requires clients to provide the `ulid` field in the request payload, causing a `400 Bad Request` error: `"required field 'ulid' is missing"`.
- According to PRD-019 (ULID Identifiers) and SPEC.md, the `ulid` field must be auto-generated by the server during record creation, not provided by the client.
- The bug occurs in the validation logic in `cmd/moon/internal/handlers/data.go` at lines 327-343, where the handler checks for missing required fields across ALL collection columns, including `ulid`.
- This violates the core design principle that ULIDs are server-managed identifiers and should never be supplied by clients during creation.

## Requirements

### Functional Requirements

- The `/{collection}:create` endpoint must NOT require the `ulid` field in the request payload.
- The server must automatically generate a new ULID for every record creation request, regardless of whether the client provides one.
- If a client includes a `ulid` field in the create request payload, the server must ignore it and generate a new ULID anyway (prevent ULID injection).
- The validation logic must exclude `ulid` from the required field check during record creation.
- The `ulid` field must still be validated for format correctness in update, get, and destroy operations where the client provides an existing record identifier.

### Technical Requirements

- Modify the required field validation loop in `cmd/moon/internal/handlers/data.go` (Create handler, lines 327-343) to skip `ulid` when checking for missing required fields.
- The validation should check: `if !col.Nullable && col.DefaultValue == nil && col.Name != "ulid"` 
- Alternatively, filter out `ulid` from the validation list before iterating.
- Ensure the ULID generation (line 313) happens before any validation that might use it.
- The generated ULID must be inserted as the first column in the INSERT query (already implemented correctly).
- No changes are needed to update, get, or destroy operationsâ€”they correctly validate ULID format when provided by clients.
- Update any relevant validation tests to ensure `ulid` is not treated as a required input field during creation.

### Edge Cases

- If the collection schema defines `ulid` as `nullable: true` (misconfiguration), the server must still generate a non-null ULID.
- If the collection schema does not include a `ulid` column (invalid schema), return `500 Internal Server Error` with a message: "collection schema is missing required 'ulid' column".
- If a client explicitly sends `"ulid": null` or `"ulid": ""` in the payload, ignore it and generate a new ULID.
- If a client sends a valid ULID in the payload during creation, ignore it and generate a new one to prevent ID collision attacks.

### API Contract

**Before Fix (Incorrect Behavior):**

Request:
```bash
curl -X POST "http://localhost:6006/products:create" \
  -H "Content-Type: application/json" \
  -d '{
    "data": {
      "title": "Laptop",
      "price": 999.99
    }
  }'
```

Response:
```json
{
  "code": 400,
  "error": "required field 'ulid' is missing"
}
```

**After Fix (Correct Behavior):**

Request:
```bash
curl -X POST "http://localhost:6006/products:create" \
  -H "Content-Type: application/json" \
  -d '{
    "data": {
      "title": "Laptop",
      "price": 999.99
    }
  }'
```

Response:
```json
{
  "message": "Record created successfully with id 01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "data": {
    "id": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
    "title": "Laptop",
    "price": 999.99
  }
}
```

**Client Attempts to Provide ULID (Must Be Ignored):**

Request:
```bash
curl -X POST "http://localhost:6006/products:create" \
  -H "Content-Type: application/json" \
  -d '{
    "data": {
      "ulid": "01AAAAAAAAAAAAAAAAAAAAAAA",
      "title": "Laptop",
      "price": 999.99
    }
  }'
```

Response:
```json
{
  "message": "Record created successfully with id 01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "data": {
    "id": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
    "title": "Laptop",
    "price": 999.99
  }
}
```

Note: The server generates a new ULID (`01ARZ3NDEKTSV4RRFFQ69G5FAV`) and ignores the client-provided value.

## Acceptance

- [ ] The `/{collection}:create` endpoint successfully creates records without requiring `ulid` in the request payload.
- [ ] The server auto-generates a valid 26-character ULID for every new record.
- [ ] The generated ULID is returned in the response under the `id` field.
- [ ] Client-provided `ulid` values in create requests are ignored, and the server always generates a new one.
- [ ] Update, get, and destroy operations continue to validate ULID format when provided by clients.
- [ ] All existing unit tests for record creation pass without modification (except those testing the incorrect validation behavior).
- [ ] New unit test added: `TestDataHandler_Create_IgnoresClientProvidedULID` verifies that client-provided ULIDs are ignored.
- [ ] No compilation warnings or errors introduced.
- [ ] The fix is consistent with PRD-019 (ULID Identifiers) and SPEC.md requirements.
- [ ] Ensure all documentation, scripts, and samples (`SPEC.md`, `INSTALL.md`, `README.md`, `USAGE.md`, `install.sh`, and all files in `samples/*`) are updated and remain consistent with the implemented code changes.
